<!DOCTYPE html>

<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Главная</title>
<link href="css/style.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@300&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300&display=swap" rel="stylesheet">


</head>
<body>

  <!-- Верхняя белая панель -->
<header class="top-bar">
  <!-- логотип и бургер удалены -->
</header>

 <!-- Скролл-галерея -->
<div class="scroll-gallery">
  <div class="version-label">
     <a href="#">RU</a> | <a href="#">EN</a>
  </div>

 <section class="photo-slide first-slide" onclick="toggleMenu()">
  <div class="slide-layer visible" id="slideA"></div>
  <div class="slide-layer" id="slideB"></div>
</section>

  <section class="photo-slide" style="background-image: url('img/photo1.jpg');" onclick="toggleMenu2()"></section>
 <section class="photo-slide" style="background-image: url('img/photo2.jpg');"></section>

</div>


  <!-- Меню -->
   <div class="side-menu" id="sideMenu">
  <ul class="menu-items centered">
    <li><a href="#">Re:boot</a></li>
    <li><a href="#">Lull</a></li>
    <li><a href="#">Techno</a></li>
    <li><a href="#">Xeno</a></li>
    <li><a href="#">Proto</a></li>
    <li><a href="#">Utility</a></li>
  </ul>
</div>

  <!-- Затемнение -->
  <div id="overlay" class="menu-overlay" onclick="toggleMenu()"></div>
<!-- Второе меню -->
<div class="side-menu" id="sideMenu2">
  <ul class="menu-items centered">
    <li><a href="#">bags</a></li>
    <li><a href="#">backpack</a></li>
    <li><a href="#">acsessories</a></li>
  </ul>
</div>

<!-- Затемнение для второй шторки -->
<div id="overlay2" class="menu-overlay" onclick="toggleMenu2()"></div>

  <!-- Скрипт открытия/закрытия -->
<script>
  function toggleMenu() {
    const menu = document.getElementById("sideMenu");
    const overlay = document.getElementById("overlay");
    menu.classList.toggle("open");
    overlay.classList.toggle("visible");
  }
  function toggleMenu2() {
  const menu = document.getElementById("sideMenu2");
  const overlay = document.getElementById("overlay2");
  menu.classList.toggle("open");
  overlay.classList.toggle("visible");
}

// наведение на логотип при загрузке страницы
  document.addEventListener("DOMContentLoaded", () => {
  const logoContainer = document.querySelector('.logo-container');
  const logo = document.querySelector('.logo');
  const burger = document.querySelector('.burger');
  const menu = document.getElementById("sideMenu");
  const overlay = document.getElementById("overlay");

  // Закрыть при клике на саму шторку (но не на пункты меню)
  menu.addEventListener("click", (e) => {
    // если кликнули не по ссылке (<a>) — тогда закрыть
    if (!e.target.closest('a')) {
      toggleMenu();
    }
  });

  // Защита — клик по ссылке не закрывает меню
  menu.querySelectorAll('a').forEach(el => {
    el.addEventListener("click", e => {
      e.stopPropagation(); // ← необязательно, но усиливает защиту
    });
  });

  if (logoContainer && logo && burger) {
    logoContainer.addEventListener('mouseenter', () => {
      logo.classList.add('fade-out');
      burger.classList.remove('hidden');
    });

    logoContainer.addEventListener('mouseleave', () => {
      logo.classList.remove('fade-out');
      burger.classList.add('hidden');
    });
  }
    const menu2 = document.getElementById("sideMenu2");
  const overlay2 = document.getElementById("overlay2");

  menu2.addEventListener("click", (e) => {
    if (!e.target.closest('a')) {
      toggleMenu2();
    }
  });

  menu2.querySelectorAll('a').forEach(el => {
    el.addEventListener("click", e => {
      e.stopPropagation();
    });
  });

});

</script>


<script>
  const slideA = document.getElementById("slideA");
  const slideB = document.getElementById("slideB");

 const isMobile = window.innerWidth <= 600;

const images = isMobile ? [
  "img/Dsmob.jpg",
  "img/Dsmob1.jpg",
  "img/Dsmob2.jpg"
] : [
  "img/Dg.jpg",
  "img/Dg1.jpg",
  "img/Dg2.jpg",
  "img/Dg3.jpg",
  "img/Dg4.jpg"
];


  let currentIndex = 0;
  let directionForward = true;
  let showingA = true;

  slideA.style.backgroundImage = `url('${images[currentIndex]}')`;
  slideA.style.opacity = "1";
  slideA.style.zIndex = "2";
  slideB.style.opacity = "0";
  slideB.style.zIndex = "1";

  setInterval(() => {
    if (directionForward) {
      currentIndex++;
      if (currentIndex === images.length) {
        directionForward = false;
        currentIndex = images.length - 2;
      }
    } else {
      currentIndex--;
      if (currentIndex < 0) {
        directionForward = true;
        currentIndex = 1;
      }
    }

    const nextImage = images[currentIndex];
    const img = new Image();
    img.src = nextImage;

    img.onload = () => {
      const currentSlide = showingA ? slideA : slideB;
      const nextSlide = showingA ? slideB : slideA;

      nextSlide.style.backgroundImage = `url('${nextImage}')`;
      nextSlide.style.zIndex = "3";
      nextSlide.style.opacity = "1";

      currentSlide.style.opacity = "0";
      currentSlide.style.zIndex = "1";

      showingA = !showingA;
    };
  }, 3000);
</script>





</body>

